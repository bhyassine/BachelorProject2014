CREATE TABLE CodesPrestation_Consultations (numeroCodePrestation varchar(10) NOT NULL, consultation int(10) NOT NULL, PRIMARY KEY (numeroCodePrestation, consultation)) engine=InnoDB;
CREATE TABLE Dico_CodesPrestation (numeroCodePrestation varchar(10) NOT NULL, description varchar(255), PRIMARY KEY (numeroCodePrestation)) engine=InnoDB;
CREATE TABLE Telephones_Patients (telephone int(10) NOT NULL, patient int(10) NOT NULL, PRIMARY KEY (telephone, patient)) engine=InnoDB;
CREATE TABLE Adresses_Patients (adresse int(10) NOT NULL, patient int(10) NOT NULL, PRIMARY KEY (adresse, patient)) engine=InnoDB;
CREATE TABLE Consultations (cid int(10) NOT NULL AUTO_INCREMENT, patient int(10) NOT NULL, utilisateur int(10) NOT NULL, `date` date, PRIMARY KEY (cid)) engine=InnoDB;
CREATE TABLE Telephones (tid int(10) NOT NULL AUTO_INCREMENT, indicatif int(10) NOT NULL, numero int(10) NOT NULL, PRIMARY KEY (tid)) engine=InnoDB;
CREATE TABLE Dico_Fonction (numeroFonction int(10) NOT NULL AUTO_INCREMENT, nom varchar(50) NOT NULL, PRIMARY KEY (numeroFonction)) engine=InnoDB;
CREATE TABLE Utilisateurs (uid int(10) NOT NULL AUTO_INCREMENT, nom varchar(30) NOT NULL, prenom varchar(30) NOT NULL, username varchar(20) NOT NULL, password char(32) NOT NULL, email varchar(50) NOT NULL, numeroEntite int(10) NOT NULL, numeroFonction int(10) NOT NULL, PRIMARY KEY (uid)) engine=InnoDB;
CREATE TABLE Dico_Nature (numeroNature int(10) NOT NULL AUTO_INCREMENT, nom varchar(50) NOT NULL, PRIMARY KEY (numeroNature)) engine=InnoDB;
CREATE TABLE Entites (eid int(10) NOT NULL AUTO_INCREMENT, nom varchar(10) NOT NULL, numeroNature int(10) NOT NULL, PRIMARY KEY (eid)) engine=InnoDB;
CREATE TABLE Patients_Stades (pid int(10) NOT NULL, sid int(10) NOT NULL, `date` date, PRIMARY KEY (pid, sid)) engine=InnoDB;
CREATE TABLE Stades (sid int(10) NOT NULL AUTO_INCREMENT, numeroMaladie int(10) NOT NULL, numeroPhase int(10) NOT NULL, stade int(10), PRIMARY KEY (sid)) engine=InnoDB;
CREATE TABLE Dico_Phases (numeroPhase int(10) NOT NULL AUTO_INCREMENT, nom varchar(50) NOT NULL, PRIMARY KEY (numeroPhase)) engine=InnoDB;
CREATE TABLE Dico_Maladies (numeroMaladie int(10) NOT NULL AUTO_INCREMENT, nom varchar(50) NOT NULL, PRIMARY KEY (numeroMaladie)) engine=InnoDB;
CREATE TABLE Adresses (aid int(10) NOT NULL AUTO_INCREMENT, rue varchar(50) NOT NULL, num int(4) NOT NULL, cp int(6) NOT NULL, ville varchar(50) NOT NULL, pays varchar(50) NOT NULL, PRIMARY KEY (aid)) engine=InnoDB;
CREATE TABLE Patients (pid int(10) NOT NULL AUTO_INCREMENT, nom varchar(50) NOT NULL, prenom varchar(50) NOT NULL, email varchar(50) NOT NULL, age int(3) NOT NULL, sexe char(1) NOT NULL, PRIMARY KEY (pid)) engine=InnoDB;
ALTER TABLE Consultations ADD INDEX FKConsultati915589 (utilisateur), ADD CONSTRAINT FKConsultati915589 FOREIGN KEY (utilisateur) REFERENCES Utilisateurs (uid);
ALTER TABLE Consultations ADD INDEX FKConsultati257297 (patient), ADD CONSTRAINT FKConsultati257297 FOREIGN KEY (patient) REFERENCES Patients (pid);
ALTER TABLE Adresses_Patients ADD INDEX FKAdresses_P918878 (patient), ADD CONSTRAINT FKAdresses_P918878 FOREIGN KEY (patient) REFERENCES Patients (pid);
ALTER TABLE Adresses_Patients ADD INDEX FKAdresses_P154905 (adresse), ADD CONSTRAINT FKAdresses_P154905 FOREIGN KEY (adresse) REFERENCES Adresses (aid);
ALTER TABLE Telephones_Patients ADD INDEX FKTelephones709209 (patient), ADD CONSTRAINT FKTelephones709209 FOREIGN KEY (patient) REFERENCES Patients (pid);
ALTER TABLE Telephones_Patients ADD INDEX FKTelephones670892 (telephone), ADD CONSTRAINT FKTelephones670892 FOREIGN KEY (telephone) REFERENCES Telephones (tid);
ALTER TABLE CodesPrestation_Consultations ADD INDEX FKCodesPrest313599 (consultation), ADD CONSTRAINT FKCodesPrest313599 FOREIGN KEY (consultation) REFERENCES Consultations (cid);
ALTER TABLE CodesPrestation_Consultations ADD INDEX FKCodesPrest526972 (numeroCodePrestation), ADD CONSTRAINT FKCodesPrest526972 FOREIGN KEY (numeroCodePrestation) REFERENCES Dico_CodesPrestation (numeroCodePrestation);
ALTER TABLE Stades ADD INDEX FKStades653983 (numeroPhase), ADD CONSTRAINT FKStades653983 FOREIGN KEY (numeroPhase) REFERENCES Dico_Phases (numeroPhase);
ALTER TABLE Stades ADD INDEX FKStades230484 (numeroMaladie), ADD CONSTRAINT FKStades230484 FOREIGN KEY (numeroMaladie) REFERENCES Dico_Maladies (numeroMaladie);
ALTER TABLE Patients_Stades ADD INDEX FKPatients_S989370 (sid), ADD CONSTRAINT FKPatients_S989370 FOREIGN KEY (sid) REFERENCES Stades (sid);
ALTER TABLE Patients_Stades ADD INDEX FKPatients_S867920 (pid), ADD CONSTRAINT FKPatients_S867920 FOREIGN KEY (pid) REFERENCES Patients (pid);
ALTER TABLE Entites ADD INDEX FKEntites726974 (numeroNature), ADD CONSTRAINT FKEntites726974 FOREIGN KEY (numeroNature) REFERENCES Dico_Nature (numeroNature);
ALTER TABLE Utilisateurs ADD INDEX FKUtilisateu7538 (numeroFonction), ADD CONSTRAINT FKUtilisateu7538 FOREIGN KEY (numeroFonction) REFERENCES Dico_Fonction (numeroFonction);
ALTER TABLE Utilisateurs ADD INDEX FKUtilisateu917209 (numeroEntite), ADD CONSTRAINT FKUtilisateu917209 FOREIGN KEY (numeroEntite) REFERENCES Entites (eid);
